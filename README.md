# practice-open-cv2

![20210411color65_c_step28.gif](./@doc/c_step/img/20210411color65_c_step28.gif)  
(ä¸Šå›³ã¯ é¨™ã—çµµ(Fake)ã®ä¸€ç¨®ã€è‰¯ãè¨€ãˆã°è¿‘ä¼¼(Approximate)ã€‚  
å†…å´ã®ã€å††ã«å†…æ¥ã™ã‚‹ç™½ã„æ­£ä¸‰è§’å½¢ã¨ã€å¤–å´ã®ã€é•·æ–¹å½¢ã«å†…æ¥ã™ã‚‹æ­£ä¸‰è§’å½¢ã¯ã€  
è§’åº¦ãŒåŒã˜ã‚ˆã†ã«è¦‹ãˆã¦ ãšã‚Œã¦ã„ã¾ã™ã€‚
ã©ã“ã‚’æ¸¬ã‚‹ã‹è¨ˆç®—ã®ä»•æ–¹ã«ã‚ˆã‚‹ã‚‚ã®ã®ã€è‰¯ãè¨€ã£ã¦ ãƒ©ã‚¸ã‚¢ãƒ³å€¤ã§ 0.02æœªæº€ã€ å¼§åº¦æ³•ã§ 0.7Â°æœªæº€ ã®ãšã‚Œã€‚   
âš¡ğŸ“„`c_step28/make_frames.py` ã¨ âš¡ğŸ“„`e_step4/pygame00.py` ä½¿ç”¨)  

## HULãƒ“ãƒ¥ãƒ¼ã£ã¦ä½•ï¼Ÿ

ã–ã£ãã‚Šè¨€ã†ã¨ HSVãƒ¢ãƒ‡ãƒ«ã‚’å›³å½¢ã§èª¬æ˜ï¼ˆViewï¼‰ã™ã‚‹è©¦ã¿ã®ï¼‘ã¤ã§ã€ãã‚Œã«å¤±æ•—ã—ãŸã®ãŒ HULãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚
HSVãƒ¢ãƒ‡ãƒ«ã¯ã€è‰²ç›¸(H)ã¨ã€è‰²èª¿ï¼ˆå½©åº¦(S)ã€æ˜åº¦(V)ï¼‰ã‚’æ‰±ã†è‰²ç©ºé–“ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚

HULãƒ“ãƒ¥ãƒ¼ã§ã¯ã€Hue(è‰²ç›¸ç’°ã®è§’åº¦ã€å¼§åº¦æ³•)ã€Upper(ä¸Šé™å€¤)ã€Lower(ä¸‹é™å€¤) ã‹ã‚‰
å††ã«å†…æ¥ã™ã‚‹æ­£ä¸‰è§’å½¢ã‚’å›è»¢ã•ã›ã‚‹ã“ã¨ã§ HSVãƒ¢ãƒ‡ãƒ«ã‚’èª¬æ˜ã™ã‚‹ãƒ“ãƒ¥ãƒ¼ã§ã™ï¼ˆèª¬æ˜ã«ã¯å¤±æ•—ï¼‰ã€‚

## HSVãƒ¢ãƒ‡ãƒ«ã¨ã€HULãƒ“ãƒ¥ãƒ¼ã®åŒã˜ã¨ã“ã‚

* (1) HSVãƒ¢ãƒ‡ãƒ«ã® `H` ã¯ã€ HULãƒ“ãƒ¥ãƒ¼ã‚‚åŒã˜ `H`ã€‚  
* (2) HSVãƒ¢ãƒ‡ãƒ«ã® `S` ã¯ã€ HULãƒ“ãƒ¥ãƒ¼ã® `U - L` ã€‚  
* (3) HSVãƒ¢ãƒ‡ãƒ«ã® `V` ã¯ã€ HULãƒ“ãƒ¥ãƒ¼ã‚‚åŒã˜ã§ã€å‘¼ã³æ–¹ã ã‘é•ã† `U` ã€‚  

### (1)

RGBå€¤ã®æ¯”ã§ è‰²ç›¸ç’°ã®è§’åº¦ã€Hue(H) ã‚’è¡¨ã™ã€‚  
HULãƒ“ãƒ¥ãƒ¼ã¯ ãã‚Œã¨åŒã˜ã“ã¨ã‚’ å††ã«å†…æ¥ã™ã‚‹æ­£ä¸‰è§’å½¢ã®å›è»¢ã¨ã„ã†åˆ¥ã®è¨€ã„å›ã—ã§èª¬æ˜ã—ã¦ã„ã‚‹ã ã‘ã€‚  

### (2)

HSVãƒ¢ãƒ‡ãƒ«ã¯ å½©åº¦(S) ã§è¡¨ã™ã€‚  
HULãƒ“ãƒ¥ãƒ¼ã¯ ãã‚Œã¨åŒã˜ã“ã¨ã‚’ ä¸Šé™å€¤(U) - ä¸‹é™å€¤(L) ã§è¡¨ã™ã€‚  

### (3)

HSVãƒ¢ãƒ‡ãƒ«ã¯ æ˜åº¦(V) ã§è¡¨ã™ã€‚  
HULãƒ“ãƒ¥ãƒ¼ã¯ ãã‚Œã¨åŒã˜ã“ã¨ã‚’ RGBå€¤ã®ãƒãƒ¼ã® ä¸Šé™å€¤(U) ã¨ã„ã†åˆ¥ã®è¨€ã„å›ã—ã§èª¬æ˜ã—ã¦ã„ã‚‹ã ã‘ã€‚  

## HSVãƒ¢ãƒ‡ãƒ«ã¨ã€HULãƒ“ãƒ¥ãƒ¼ã®é•ã†ã¨ã“ã‚

HSVãƒ¢ãƒ‡ãƒ«ã®ç²¾åº¦ãŒ å®Ÿæ•° ãªã®ã«å¯¾ã—ã€ HULãƒ“ãƒ¥ãƒ¼ã®ç²¾åº¦ã¯ å¼§åº¦æ³•ã®æ•´æ•°éƒ¨ã®0ã‚’å«ã‚€è‡ªç„¶æ•° 0ï½365 ï¼ˆç²¾åº¦ã®åŠ£åŒ–ï¼‰ã€‚

## HULãƒ“ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ã‚¹ã®ä½¿ã„æ–¹

GPLãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå«ã¾ã‚Œã¦ã‚‹ã‹ã‚‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯å€‹åˆ¥ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’è¦ç¢ºèªï¼ˆï¼¾ï½ï¼¾ï¼‰  
HULãƒ“ãƒ¥ãƒ¼ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãªã‚“ã§ è‘—ä½œæ¨©ç„¡ã„ã‚“ã§ç†è§£ã—ãŸã‚‰ç‹¬è‡ªå®Ÿè£…ã—ç›´ã—ã¦æŒã£ã¦ã‘ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰  

* ğŸ“`c_step28` - ã‚ãŸã—ã®è€ƒãˆãŸHULãƒ“ãƒ¥ãƒ¼ã®ã‚¨ã‚­ã‚·ãƒ“ã‚¸ãƒ§ãƒ³ï¼ˆï¼¾ï½ï¼¾ï¼‰
  * ğŸ“„`make_frames.py` - å®Ÿè¡Œã—ã‚ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰1ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ ğŸ“`shared` ã«å¤§é‡ã«ä½œã‚‹ãœï¼ˆï¼¾ï½ï¼¾ï¼‰
  * âš™ï¸ğŸ“„`conf.py` - ã„ã‚ã„ã‚ãªè¨­å®š
  * âš¡ğŸ“„`color_hul_model.py` - ã‚ãŸã—ã®HULãƒ“ãƒ¥ãƒ¼ã‚’GPLã§å®Ÿè£…ã—ãŸã‚„ã¤ï¼ˆï¼¾ï½ï¼¾ï¼‰ ã‚½ãƒ¼ã‚¹ã¯GPLã§ä½¿ã„ã«ãã„ã ã‚ã†ã‹ã‚‰ã€ãã‚ŒãŒå«Œãªã‚„ã¤ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã ã‘ç†è§£ã—ã¦è‡ªåŠ›å®Ÿè£…ã—ç›´ã›ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰
* ğŸ“`e_step4` - c_step28ã§ä½œã£ãŸ1ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®ç”»åƒã‚’ç´™èŠå±…ã«ã—ã¦å‹•ç”»ã§æµã™ã‚„ã¤ã€‚
  * âš¡ğŸ“„`pygame00.py` - `FRAME_COUNT` ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’å‡ºåŠ›ã•ã‚ŒãŸç”»åƒã®æšæ•°ã«è¨­å®šã—ã‚ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰ å®Ÿè¡Œã—ã‚ã ãœï¼ˆï¼¾ï½ï¼¾ï¼‰
* ğŸ“`shared` - c_step28 ã‚’å®Ÿè¡Œã—ãŸã‚‰ã€ç”»åƒãŒå¤§é‡ã«å‡ºåŠ›ã•ã‚Œã‚‹ãœï¼ˆï¼¾ï½ï¼¾ï¼‰

## Set up

```shell
pip install opencv-python
pip install pylint
python -m pylint --generate-rcfile > pylintrc

python -m pip install -U pygame --user

# æ³¨æ„ï¼ éŸ³ãŒå‡ºã‚‹ã‚²ãƒ¼ãƒ ç”»é¢ãŒå‡ºã‚‹
python -m pygame.examples.aliens
```

VSCode `[File] - [Preferences] - [Settings]`ã€‚ æ¤œç´¢æ¬„ã« `Python.linting.pylintArgs` ã‚’å…¥ã‚Œã¦æ¤œç´¢ã€‚ `--extension-pkg-whitelist=cv2,pygame` ã‚’è¿½åŠ ã€‚  

## Start

```shell
cd c_step28

python make_frame.py

cd e_step4

python pygame00.py
```

## c_step28 å›³è§£

![20210411color61a5a1_c_step_28.png](./@doc/c_step/img/20210411color61a5a1_c_step_28.png)
## Document

[References](./@doc/references.md)  
